---
memory: 1G
instances: 1
applications:

- name: album-service
  env:
    GRANT_TYPE: client_credentials
  path: applications/album-service/build/libs/album-service-1.1.0-SNAPSHOT.jar
  routes:
    - route: album-service-sweet-kob.apps.pikes.pal.pivotal.io
  services:
  - albums-db
  - photo-storage
  - movie-fun-sso

- name: movie-service
  env:
    GRANT_TYPE: client_credentials
  path: applications/movie-service/build/libs/movie-service-1.1.0-SNAPSHOT.jar
  routes:
    - route: movie-service-bold-cat.apps.pikes.pal.pivotal.io
  services:
  - movies-db
  - movie-fun-sso

- name: movie-fun-app
  env:
    ALBUMS_URL: http://album-service-sweet-kob.apps.pikes.pal.pivotal.io/albums
    MOVIES_URL: http://movie-service-bold-cat.apps.pikes.pal.pivotal.io/movies
  path: applications/movie-fun-app/build/libs/movie-fun-app-1.1.0-SNAPSHOT.war
  routes:
    - route: moviefun-anxious-platypus.apps.pikes.pal.pivotal.io
  services:
    - photo-storage
    - movie-fun-sso
